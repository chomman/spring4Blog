<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.walter.dao.ApiDao">

	<select id="getCodeList" parameterType="Code" resultType="Code">
		SELECT *
		  FROM code
		 WHERE up_cd = #{up_cd}
		<if test="cd != null and cd != ''">
		   AND cd = #{cd}
		</if>
	</select>

	<select id="getCategoryList" parameterType="Category" resultType="Category">
		SELECT category_cd
			  ,parent_category_cd
			  ,depth
			  ,category_name
			  ,access_role
			  ,fn_code_nm('ROLE', access_role) AS "access_role_name"
			  ,order_no
			  ,use_yn
		  FROM category
		 WHERE depth = #{depth}
		 <if test="parent_category_cd != null and parent_category_cd != ''">
		   AND parent_category_cd = #{parent_category_cd}
		 </if>
		 ORDER BY order_no ASC
	</select>

</mapper>